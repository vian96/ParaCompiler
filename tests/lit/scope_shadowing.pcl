// RUN: %paracl %s > %t.ll
// RUN: %lli -load=%lib %t.ll | FileCheck %s

counter = 0;
limit = 3;
result = 50;

while (counter < limit) {
    result = counter * 100;

    output(0, result);
    // CHECK: 0
    // CHECK: 100
    // CHECK: 200

    counter = counter + 1;
}

// No shadowing (outer 'result' was modified)
output(0, result);
// CHECK: 200

// for does not introduce new variable but does rewrite the older one
for (counter in 0: 3) {
    result = counter * 100;

    output(0, result);
    // CHECK: 0
    // CHECK: 100
    // CHECK: 200
}
output(0, counter); // CHECK: 3

for (newcnt in 0: 3) {
    result = newcnt * 100;

    output(0, result);
    // CHECK: 0
    // CHECK: 100
    // CHECK: 200
}
